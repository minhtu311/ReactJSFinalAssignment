{"ast":null,"code":"import React, { useEffect, useState, useContext } from 'react';\nimport LoginPage from '../LoginPage/LoginPage';\nimport axios from 'axios';\n\nconst ProfilePage = () => {// const [profile, setProfile] = useState({\n  //     id: null,\n  //     name: null,\n  // });\n  // const [loading, setLoading] = useState(true);\n  // const [error, setError] = useState(\"\");\n  // const { login, setLogin } = useContext(LoginContext);\n  // const { userId, setUserId } = useContext(UserIdContext);\n  // useEffect(() => {\n  //     let didCancel = false;\n  //     axios({\n  //         method: \"GET\",\n  //         url: `https://60dff0ba6b689e001788c858.mockapi.io/users/${userId}`,\n  //     })\n  //         .then(({ data }) => {\n  //             if (!didCancel) {\n  //                 if (login) {\n  //                     setProfile({\n  //                         id: data.id,\n  //                         name: data.name,\n  //                     });\n  //                 }\n  //                 setLoading(false);\n  //             }\n  //         })\n  //         .catch((err) => {\n  //             if (!didCancel) {\n  //                 setLoading(false);\n  //                 setError(\"Something went Wrong\");\n  //                 console.log(err);\n  //             }\n  //         });\n  //     return () => {\n  //         didCancel = true;\n  //     };\n  // }, [userId, login]);\n  // if (loading) return <h1 style={{ textAlign: \"center\" }}>Loading....</h1>;\n  // if (error) return <p style={{ color: \"red\" }}> {error}</p>;\n  // console.log(profile);\n  // console.log(login);\n  // if (login) {\n  //     const tokens = getTokens();\n  //     if (tokens) {\n  //         setUserId(tokens.userId);\n  //     }\n  //     console.log(tokens)\n  // }\n  // if (!login) {\n  //     return (\n  //         <div>\n  //             <h5 style={{ margin: 30 }}>You need to login to continue</h5>\n  //             <LoginPage />\n  //         </div>\n  //     );\n  // }\n  // return (\n  //     <div style={{ margin: 30 }}>\n  //         <p>ID: {profile.id}</p>\n  //         <p>Name: {profile.name}</p>\n  //     </div>\n  // );\n};\n\n_c = ProfilePage;\nexport default ProfilePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"names":["React","useEffect","useState","useContext","LoginPage","axios","ProfilePage"],"sources":["E:/React/react-final-assignment/src/components/ProfilePgae/ProfilePage.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react'\r\nimport LoginPage from '../LoginPage/LoginPage';\r\nimport axios from 'axios';\r\n\r\n\r\nconst ProfilePage = () => {\r\n    // const [profile, setProfile] = useState({\r\n    //     id: null,\r\n    //     name: null,\r\n    // });\r\n    // const [loading, setLoading] = useState(true);\r\n    // const [error, setError] = useState(\"\");\r\n    // const { login, setLogin } = useContext(LoginContext);\r\n    // const { userId, setUserId } = useContext(UserIdContext);\r\n\r\n    // useEffect(() => {\r\n    //     let didCancel = false;\r\n    //     axios({\r\n    //         method: \"GET\",\r\n    //         url: `https://60dff0ba6b689e001788c858.mockapi.io/users/${userId}`,\r\n    //     })\r\n    //         .then(({ data }) => {\r\n    //             if (!didCancel) {\r\n    //                 if (login) {\r\n    //                     setProfile({\r\n    //                         id: data.id,\r\n    //                         name: data.name,\r\n    //                     });\r\n    //                 }\r\n    //                 setLoading(false);\r\n    //             }\r\n    //         })\r\n    //         .catch((err) => {\r\n    //             if (!didCancel) {\r\n    //                 setLoading(false);\r\n    //                 setError(\"Something went Wrong\");\r\n    //                 console.log(err);\r\n    //             }\r\n    //         });\r\n\r\n    //     return () => {\r\n    //         didCancel = true;\r\n    //     };\r\n    // }, [userId, login]);\r\n\r\n    // if (loading) return <h1 style={{ textAlign: \"center\" }}>Loading....</h1>;\r\n    // if (error) return <p style={{ color: \"red\" }}> {error}</p>;\r\n\r\n    // console.log(profile);\r\n    // console.log(login);\r\n\r\n    // if (login) {\r\n    //     const tokens = getTokens();\r\n    //     if (tokens) {\r\n    //         setUserId(tokens.userId);\r\n    //     }\r\n    //     console.log(tokens)\r\n    // }\r\n\r\n    // if (!login) {\r\n    //     return (\r\n    //         <div>\r\n    //             <h5 style={{ margin: 30 }}>You need to login to continue</h5>\r\n    //             <LoginPage />\r\n    //         </div>\r\n    //     );\r\n    // }\r\n\r\n    // return (\r\n    //     <div style={{ margin: 30 }}>\r\n    //         <p>ID: {profile.id}</p>\r\n    //         <p>Name: {profile.name}</p>\r\n    //     </div>\r\n    // );\r\n}\r\n\r\nexport default ProfilePage"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,WAAW,GAAG,MAAM,CACtB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EAEA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;AACH,CArED;;KAAMA,W;AAuEN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}